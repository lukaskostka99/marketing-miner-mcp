name: "Marketing Miner MCP"
description: "Keyword suggestions and metrics from Marketing Miner (questions/new/trending, related keywords, volumes)"
version: "0.2.1"

startCommand:
  type: http

  configSchema:
    type: object
    required: ["apiToken"]
    properties:
      apiToken:
        type: string
        title: "Marketing Miner API Token"
        description: "Create a token in Marketing Miner. It will be injected as MARKETING_MINER_API_TOKEN."
      httpPath:
        type: string
        title: "HTTP Path"
        description: "Endpoint path for the MCP server (advanced)."
        default: "/"

  commandFunction: |-
    (config) => ({
      command: "python",
      args: ["server.py"],
      env: {
        "MARKETING_MINER_API_TOKEN": config.apiToken,
        "MCP_TRANSPORT": "http",
        "MCP_HTTP_PATH": (config.httpPath || "/"),
        "HOST": "0.0.0.0",
        "PYTHONUNBUFFERED": "1"
      }
    })
